<template>
    <div class="wrapper">
        <template if:true={error}>
            <my-error-panel errors={error}></my-error-panel>
        </template>
        <template if:true={showForm}>
            <div class="slds-p-around_small">
                <div
                    class="
                        slds-m-top_medium
                        slds-m-bottom_x-large
                        slds-text-align_center
                        slds-text-heading_large
                    "
                > 
                    <b>Enter your details to view content</b>
                </div>
                <div
                    class="
                        slds-grid slds-grid_align-center
                        slds-text-align_left
                    "
                >
                    <div
                        class="
                            slds-form-element__control
                            slds-var-m-bottom_small
                            slds-size_1-of-1
                            slds-large-size_1-of-3
                            slds-p-around_small
                        "
                    >
                        <lightning-input
                            type="text"
                            name="lastname"
                            required="true"
                            label="Enter your Name"
                            onchange={handleNameChange}
                            disabled={disableform1}
                            class="slds-p-bottom_small"
                        >
                        </lightning-input>

                        <lightning-input
                            type="email"
                            name="email"
                            required="true"
                            label="Enter your company email"
                            onchange={handleEmailChange}
                            disabled={disableform1}
                            class="slds-p-bottom_small"
                        >
                        </lightning-input>

                        <lightning-input
                            type="text"
                            name="technology"
                            required="true"
                            label="Enter the current technology you are working on"
                            onchange={handleTechnologyChange}
                            disabled={disableform1}
                            class="slds-p-bottom_small"
                        >
                        </lightning-input>

                        <lightning-combobox
                            name="company"
                            label="Choose your company"
                            required="true"
                            options={options}
                            onchange={handleCompanyChange}
                            class="slds-p-bottom_small"
                        ></lightning-combobox>
                        <lightning-input
                            type="email"
                            name="email"
                            required="true"
                            label="Enter your Trailhead email"
                            onchange={handleThEmailChange}
                            disabled={disableform1}
                            class="slds-p-bottom_small"
                        >
                        </lightning-input>
                        <p class="slds-p-bottom_small">
                            New to Trailhead?&nbsp;
                            <a
                                href="https://trailblazer.me/TrailblazerLogin?display=page&mode=signup&sdtd=1&startURL=%2Fsetup%2Fsecur%2FRemoteAccessAuthorizationPage.apexp%3Fsource%3DCAAAAXoaO6FzMDAwMDAwMDAwMDAwMDAwAAAA6FLIJ6oRTpLBzCbGnhcjOWV15foHJPvVyTYG47kZSZDh5y56EVFpBB-Kiy4OV0Ifvsx9q1vSgAUre3JZGA2eCPQs4SVFhDSStubvgW2eqDPaLPzelzBb-jrTaXvE0J1xedWg_cfNLp7Oa4YvumTECUTV8oT5_xL4f4cAx9qSOOYQ8i2Q3-LGYnSQPxV-Yglh2_924H6dGtVcLtLmM3eIoaagaKF-_Dq-c6ld5tb1252JzgED4zeOwPE3YWmi69sN407hTgeIf2BXEu3PtVRNRCLJGIhqRI2DBRMVpQ0EdhxSw8qGDIL8bbogy5-0U_6gqIedcpFhwhmFQySoXeGTtWQi5awXsbpCzxyfAwyF-kNqq5SyULfp9rQc8kq9uMUhNwuQ3zgVHLq-sxBhL7P6gkim1dadpN9okfozuN2e7JNy-fTPJJqLASfgaWR3-Kv_cpLfeJoWnXQGrgxqXJQ5aVkEjhKCRk5jOfmGq-Nrb1w7FN4-MFDjkbAjwz8fC3ucnSGYoGih3ndnXMZjUelrthtEbMWT1ri3pGxKgW_lqMbWDZu0Mbco7aym_U_oa2gfwgKBSPqxg4Qex23I5rdZiG1JyQSP14ORak-_i50SOR5SAweqP91cBt9yxoIc1TsKQ-OtD9Sa-llqt8pZuko8YpVYY_pcO09MhXfID0-95Wd88l2I1n12HVLmbQW7HOZejNWXuWbvpoBzvDgd18iQ3pjsgrBSseNGqiOnre2xESejdqi-laSg9endR7aOQozGozV4obmi5Z6HkfvdXWyQriI%253D%26display%3Dpage"
                                target="_blank"
                                >Signup</a
                            >&nbsp;for free
                        </p>
                        <input
                            type="checkbox"
                            disabled={disableform1}
                            name="consent"
                            onchange={handleCheckboxChange}
                            required="required"
                        />
                        <label
                            for="terms"
                            style="display: inline"
                            class="slds-form-element__label"
                        >
                            &nbsp;By clicking Next, you confirm that you agree
                            to the &nbsp;
                            <a
                                href="https://org62.my.salesforce.com/sfc/p/000000000062/a/3y0000003UNW/sawXbb.Z5ithz0faEREN35SNWTf8Fqy.lZb8rNHEctc"
                                >Be A Salesforce <br />Developer Terms</a
                            >. Salesforce values your privacy. See our
                            <a
                                href="https://www.salesforce.com/company/privacy/full_privacy/"
                            >
                                &nbsp;Privacy Statement</a
                            ></label
                        >
                        <div class="slds-var-m-top_small nextbutton">
                            <lightning-button
                                label="Next"
                                variant="brand"
                                onclick={handleSendOtp}
                                disabled={disableform1}
                            >
                            </lightning-button>
                        </div>
                    </div>
                    </div>
                </div>
            </template>
        <template if:true={captureOtp}>
            <div class="slds-p-around_medium slds-text-heading_medium">
                <h2>
                    An OTP has been sent to your company email address. Please
                    verify
                </h2>
            </div>
            <div class="slds-grid slds-grid_align-center slds-text-align_left">
                <div
                    class="
                        slds-form-element__control
                        slds-var-m-bottom_small
                        slds-size_1-of-1
                        slds-large-size_1-of-3
                        slds-p-around_small
                    "
                >
                    <lightning-input
                        name="text"
                        required="true"
                        label="Enter 6 digit OTP"
                        onchange={handleOtpChange}
                        class="otpField"
                    >
                    </lightning-input>
                    <div class="slds-var-m-top_small">
                        <lightning-button
                            label="Verify OTP"
                            variant="brand"
                            onclick={handleVerifyOtp}
                        >
                        </lightning-button>
                    </div>
                </div>
            </div>
        </template>
        <template if:true={showContent}>
            <div class="slds-p-around_small">
                <div>
                    <my-all-days></my-all-days>
                </div>
            </div>
        </template>
    </div>
</template>
