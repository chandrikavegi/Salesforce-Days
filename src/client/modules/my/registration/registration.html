<template>
    <div class="wrapper">
        <template if:true={showPopup}>
            <section
                role="dialog"
                tabindex="-1"
                aria-modal="true"
                aria-label="Modal popup"
                class="slds-modal slds-backdrop slds-backdrop_open"
            >
                <div class="slds-modal__container">
                    <div class="slds-modal__header">
                        <h2 id="modal-heading-01" class="slds-modal__title">
                            We need some more information to track your progress
                        </h2>
                    </div>
                    <div class="slds-modal__content slds-p-around_medium">
                        <div
                            class="
                                slds-grid slds-grid_align-center
                                slds-text-align_left
                            "
                        >
                            <div
                                class="
                                    slds-form-element__control
                                    slds-var-m-bottom_small
                                    slds-size_1-of-1
                                    slds-large-size_2-of-3
                                    slds-p-around_small
                                "
                            >
                                <lightning-input
                                    type="email"
                                    name="themail"
                                    required="true"
                                    label="Please enter your Trailhead Email Address"
                                    onchange={handlePopupEmailChange}
                                    disabled={disableform1}
                                    class="themail2 slds-p-bottom_small"
                                >
                                </lightning-input>
                                <lightning-combobox
                                    name="T-shirtSize"
                                    label="T-shirt Size"
                                    required="true"
                                    options={options}
                                    onchange={handleSizeChange}
                                    class="size2 slds-p-bottom_small"
                                >
                                </lightning-combobox>
                                <lightning-button
                                    label="Submit"
                                    variant="brand"
                                    onclick={handleSubmit}
                                    disabled={disableform1}
                                >
                                </lightning-button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </template>
        <template if:true={error}>
            <my-error-panel errors={error}></my-error-panel>
        </template>
        <template if:true={showSpinner}>
            <utils-spinner></utils-spinner>
        </template>
        <template if:false={showContent}>
            <div class="slds-p-around_small">
                <div
                    class="
                        slds-m-top_medium
                        slds-m-bottom_x-large
                        slds-text-align_center
                        slds-text-heading_large
                        title
                    "
                >
                    <b>Get Started Now</b>
                </div>
                <div
                    class="
                        slds-grid slds-grid_align-center
                        slds-text-align_left
                    "
                >
                    <div
                        class="
                            slds-form-element__control
                            slds-var-m-bottom_small
                            slds-size_1-of-1
                            slds-large-size_1-of-3
                            slds-p-around_small
                        "
                    >
                        <lightning-input
                            type="text"
                            name="fullname"
                            required="true"
                            label="Name"
                            onchange={handleNameChange}
                            disabled={disableform1}
                            class="name1 slds-p-bottom_small"
                        >
                        </lightning-input>

                        <lightning-input
                            type="email"
                            name="email"
                            required="true"
                            label="Corporate Email Address"
                            onchange={handleEmailChange}
                            disabled={disableform1}
                            class="email1 slds-p-bottom_small"
                        >
                        </lightning-input>

                        <lightning-input
                            type="themail"
                            name="themail"
                            required="true"
                            label="Trailhead Email Address"
                            onchange={handleThEmailChange}
                            disabled={disableform1}
                            class="themail1 slds-p-bottom_small"
                        >
                        </lightning-input>
                        <p class="slds-p-bottom_small slds-form-element__label">
                            New to Trailhead?&nbsp;
                            <a
                                href="https://trailblazer.me/TrailblazerLogin?display=page&mode=signup&sdtd=1&startURL=%2Fsetup%2Fsecur%2FRemoteAccessAuthorizationPage.apexp%3Fsource%3DCAAAAXoaO6FzMDAwMDAwMDAwMDAwMDAwAAAA6FLIJ6oRTpLBzCbGnhcjOWV15foHJPvVyTYG47kZSZDh5y56EVFpBB-Kiy4OV0Ifvsx9q1vSgAUre3JZGA2eCPQs4SVFhDSStubvgW2eqDPaLPzelzBb-jrTaXvE0J1xedWg_cfNLp7Oa4YvumTECUTV8oT5_xL4f4cAx9qSOOYQ8i2Q3-LGYnSQPxV-Yglh2_924H6dGtVcLtLmM3eIoaagaKF-_Dq-c6ld5tb1252JzgED4zeOwPE3YWmi69sN407hTgeIf2BXEu3PtVRNRCLJGIhqRI2DBRMVpQ0EdhxSw8qGDIL8bbogy5-0U_6gqIedcpFhwhmFQySoXeGTtWQi5awXsbpCzxyfAwyF-kNqq5SyULfp9rQc8kq9uMUhNwuQ3zgVHLq-sxBhL7P6gkim1dadpN9okfozuN2e7JNy-fTPJJqLASfgaWR3-Kv_cpLfeJoWnXQGrgxqXJQ5aVkEjhKCRk5jOfmGq-Nrb1w7FN4-MFDjkbAjwz8fC3ucnSGYoGih3ndnXMZjUelrthtEbMWT1ri3pGxKgW_lqMbWDZu0Mbco7aym_U_oa2gfwgKBSPqxg4Qex23I5rdZiG1JyQSP14ORak-_i50SOR5SAweqP91cBt9yxoIc1TsKQ-OtD9Sa-llqt8pZuko8YpVYY_pcO09MhXfID0-95Wd88l2I1n12HVLmbQW7HOZejNWXuWbvpoBzvDgd18iQ3pjsgrBSseNGqiOnre2xESejdqi-laSg9endR7aOQozGozV4obmi5Z6HkfvdXWyQriI%253D%26display%3Dpage"
                                target="_blank"
                                >Signup</a
                            >&nbsp;for free
                        </p>
                        <lightning-combobox
                            name="T-shirtSize"
                            label="T-shirt Size"
                            required="true"
                            options={options}
                            onchange={handleSizeChange}
                            class="size1 slds-p-bottom_small"
                        ></lightning-combobox>

                        <label
                            for="terms"
                            style="display: inline"
                            class="slds-form-element__label"
                        >
                            &nbsp;By clicking, you confirm that you agree to the
                            Program terms.
                        </label>
                        <div class="slds-var-m-top_small slds-m-bottom_x-large">
                            <lightning-button
                                label="Get Started"
                                variant="brand"
                                onclick={handleRegister}
                                disabled={disableform1}
                            >
                            </lightning-button>
                        </div>
                    </div>
                </div>
            </div>
        </template>
        <template if:true={showContent}>
            <div class="slds-p-around_x-large content">
                <th-all-badges></th-all-badges>
            </div>
        </template>
    </div>
</template>